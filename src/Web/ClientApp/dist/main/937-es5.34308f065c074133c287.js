!function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function t(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkoreva=self.webpackChunkoreva||[]).push([[937],{4937:function(e,a,i){"use strict";i.r(a),i.d(a,{AttendanceModule:function(){return fe}});var r=i(1116),o=i(8569),s=i(1041),l=i(5366),d=function(){var e=function e(){n(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e}(),c=i(2501),u=i.n(c),g=i(2693),h=i(529),f=function(){var e=function(){function e(t){n(this,e),this.httpClient=t}return t(e,[{key:"getMySubjectAttendance",value:function(e,t,n,a,i,r,o){return this.httpClient.get(h.N.apiUrl+"Attendance/getMySubjectAttendance",{params:(new g.LE).set("searchText",e).set("currentPage",t.toString()).set("pageSize",n.toString()).set("academicYearId",a.toString()).set("gradeId",i.toString()).set("classId",r.toString()).set("subjectId",o.toString())})}},{key:"getAttendanceListTeacherDropdownMasterData",value:function(){return this.httpClient.get(h.N.apiUrl+"Attendance/getAttendanceListTeacherDropdownMasterData")}},{key:"getStartAndEndTime",value:function(e){return this.httpClient.post(h.N.apiUrl+"Attendance/getStartAndEndTime",e)}},{key:"getAttendanceDetailForSubjectClassById",value:function(e){return this.httpClient.get(h.N.apiUrl+"Attendance/getAttendanceDetailForSubjectClassById/"+e)}},{key:"getAttendanceDetailForClassSubject",value:function(e){return this.httpClient.post(h.N.apiUrl+"Attendance/getAttendanceDetailForClassSubject",e)}},{key:"saveAttendanceDetailForClassSubject",value:function(e){return this.httpClient.post(h.N.apiUrl+"Attendance/saveAttendanceDetailForClassSubject",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.LFG(g.eN))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),m=i(8511),p=i(893),Z=i(1269),v=i(1709),A=i(4686),T=i(2290),b=function(e,t,n){return{"p-inputswitch p-component":!0,"p-inputswitch-checked":e,"p-disabled":t,"p-focus":n}},w={provide:s.JU,useExisting:(0,l.Gpc)(function(){return q}),multi:!0},q=function(){var e=function(){function e(t){n(this,e),this.cd=t,this.onChange=new l.vpe,this.checked=!1,this.focused=!1,this.onModelChange=function(){},this.onModelTouched=function(){}}return t(e,[{key:"onClick",value:function(e,t){this.disabled||this.readonly||(e.preventDefault(),this.toggle(e),t.focus())}},{key:"onInputChange",value:function(e){this.readonly||this.updateModel(e,e.target.checked)}},{key:"toggle",value:function(e){this.updateModel(e,!this.checked)}},{key:"updateModel",value:function(e,t){this.checked=t,this.onModelChange(this.checked),this.onChange.emit({originalEvent:e,checked:this.checked})}},{key:"onFocus",value:function(e){this.focused=!0}},{key:"onBlur",value:function(e){this.focused=!1,this.onModelTouched()}},{key:"writeValue",value:function(e){this.checked=e,this.cd.markForCheck()}},{key:"registerOnChange",value:function(e){this.onModelChange=e}},{key:"registerOnTouched",value:function(e){this.onModelTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cd.markForCheck()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.sBO))},e.\u0275cmp=l.Xpm({type:e,selectors:[["p-inputSwitch"]],inputs:{style:"style",styleClass:"styleClass",tabindex:"tabindex",inputId:"inputId",name:"name",disabled:"disabled",readonly:"readonly",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange"},features:[l._Bn([w])],decls:5,vars:15,consts:[[3,"ngClass","ngStyle","click"],[1,"p-hidden-accessible"],["type","checkbox","role","switch",3,"checked","disabled","change","focus","blur"],["cb",""],[1,"p-inputswitch-slider"]],template:function(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",0),l.NdJ("click",function(e){l.CHM(n);var a=l.MAs(3);return t.onClick(e,a)}),l.TgZ(1,"div",1),l.TgZ(2,"input",2,3),l.NdJ("change",function(e){return t.onInputChange(e)})("focus",function(e){return t.onFocus(e)})("blur",function(e){return t.onBlur(e)}),l.qZA(),l.qZA(),l._UZ(4,"span",4),l.qZA()}2&e&&(l.Tol(t.styleClass),l.Q6J("ngClass",l.kEZ(11,b,t.checked,t.disabled,t.focused))("ngStyle",t.style),l.xp6(2),l.Q6J("checked",t.checked)("disabled",t.disabled),l.uIk("id",t.inputId)("name",t.name)("tabindex",t.tabindex)("aria-checked",t.checked)("aria-labelledby",t.ariaLabelledBy))},directives:[r.mk,r.PC],styles:['.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}'],encapsulation:2,changeDetection:0}),e}(),y=function(){var e=function e(){n(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[r.ez]]}),e}();function F(e,t){if(1&e&&(l.TgZ(0,"option",42),l._uU(1),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n.id),l.xp6(1),l.hij(" ",n.name," ")}}function I(e,t){if(1&e&&(l.TgZ(0,"option",42),l._uU(1),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n.id),l.xp6(1),l.hij(" ",n.name," ")}}function C(e,t){if(1&e&&(l.TgZ(0,"option",42),l._uU(1),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n.id),l.xp6(1),l.hij(" ",n.name," ")}}function N(e,t){if(1&e&&(l.TgZ(0,"option",42),l._uU(1),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n.id),l.xp6(1),l.hij(" ",n.name," ")}}function k(e,t){if(1&e&&(l.TgZ(0,"option",42),l._uU(1),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n.id),l.xp6(1),l.hij(" ",n.name," ")}}function S(e,t){1&e&&(l.TgZ(0,"small",43),l._uU(1," Please enter your lesson details"),l.qZA())}function x(e,t){1&e&&(l.TgZ(0,"tr"),l.TgZ(1,"th",44),l._uU(2,"#"),l.qZA(),l.TgZ(3,"th",45),l._uU(4,"Index No"),l.qZA(),l.TgZ(5,"th"),l._uU(6,"Student Name"),l.qZA(),l.TgZ(7,"th"),l._uU(8,"Is Present"),l.qZA(),l.qZA())}function D(e,t){1&e&&l._UZ(0,"img",50)}function j(e,t){1&e&&l._UZ(0,"img",51)}var Y=function(){return{standalone:!0}};function U(e,t){if(1&e&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l.YNc(6,D,1,0,"img",46),l.YNc(7,j,1,0,"img",47),l.TgZ(8,"span",48),l._uU(9),l.qZA(),l.qZA(),l.TgZ(10,"td"),l.TgZ(11,"p-inputSwitch",49),l.NdJ("ngModelChange",function(e){return t.$implicit.isPresent=e}),l.qZA(),l.qZA(),l.qZA()),2&e){var n=t.$implicit,a=t.rowIndex;l.xp6(2),l.hij(" ",a+1," "),l.xp6(2),l.hij(" ",n.indexNo," "),l.xp6(2),l.Q6J("ngIf","M"==n.gender),l.xp6(1),l.Q6J("ngIf","F"==n.gender),l.xp6(2),l.Oqu(n.studentName),l.xp6(2),l.Q6J("ngModel",n.isPresent)("ngModelOptions",l.DdM(7,Y))}}var J=function(){return{width:"100%"}},M=function(){var e=function(){function e(t,a,i,r,o,s,l){n(this,e),this.attendanceService=t,this.formBuilder=a,this.modalService=i,this.activateRoute=r,this.router=o,this.dropdownService=s,this.spinner=l,this.id=0,this.academicYears=[],this.grades=[],this.classes=[],this.subjects=[],this.softwares=[{id:"Zoom",name:"Zoom"},{id:"Microsoft Team",name:"Microsoft Team"},{id:"Google Meet",name:"Google Meet"},{id:"Skype",name:"Skype"}],this.classTypes=[{id:!1,name:"No"},{id:!0,name:"Yes"}],this.filter=new d,this.data=[],this.date=new Date,this.createFilterForm()}return t(e,[{key:"ngOnInit",value:function(){var e=this;this.activateRoute.params.subscribe(function(t){e.id=+t.id,0==e.id?(e.spinner.show(),e.loadGrades()):(e.spinner.show(),e.generateExistingAttendanceSheet())})}},{key:"createFilterForm",value:function(){this.filterForm=this.formBuilder.group({id:new s.NI(this.id),year:new s.NI(this.date.getFullYear()),month:new s.NI(this.date.getMonth()+1),day:new s.NI(this.date.getDate()),gradeId:new s.NI(0),classId:new s.NI(0),subjectId:new s.NI(0),startHour:new s.NI(0),startMin:new s.NI(0),endHour:new s.NI(0),endMin:new s.NI(0),isExtraClass:new s.NI(!1),lessonDetails:new s.NI("",s.kI.required),softwareName:new s.NI("Zoom"),timeSlotId:new s.NI(0),studentsAttendance:this.formBuilder.array([]),selectedDate:new s.NI(this.date),startTime:new s.NI(this.date),endTime:new s.NI(this.date)})}},{key:"generateExistingAttendanceSheet",value:function(){var e=this;this.attendanceService.getAttendanceDetailForSubjectClassById(this.id).subscribe(function(t){e.spinner.hide(),e.data=t.studentsAttendance,e.date=new Date(t.year,t.month-1,t.day,0,0,0);var n=new Date(t.year,t.month-1,t.day,t.startHour,t.startMin,0),a=new Date(t.year,t.month-1,t.day,t.endHour,t.endMin,0);e.filterForm=e.formBuilder.group({id:new s.NI(e.id),year:new s.NI(e.date.getFullYear()),month:new s.NI(e.date.getMonth()-1),day:new s.NI(e.date.getDate()),gradeId:new s.NI(t.gradeId),classId:new s.NI(t.classId),subjectId:new s.NI(t.subjectId),startHour:new s.NI(t.startHour),startMin:new s.NI(t.startMin),endHour:new s.NI(t.endHour),endMin:new s.NI(t.endMin),isExtraClass:new s.NI(t.isExtraClass),lessonDetails:new s.NI(t.lessonDetails,s.kI.required),softwareName:new s.NI(t.softwareName),timeSlotId:new s.NI(t.timeSlotId),studentsAttendance:e.formBuilder.array([]),selectedDate:new s.NI(e.date),startTime:new s.NI(n),endTime:new s.NI(a)}),console.log("===================================="),console.log("disabled"),console.log("===================================="),e.spinner.show(),e.loadGrades()},function(t){e.spinner.hide()}),this.filterForm.controls.selectedDate.disable(),this.filterForm.get("gradeId").disable(),this.filterForm.get("classId").disable(),this.filterForm.get("subjectId").disable()}},{key:"loadGrades",value:function(){var e=this;this.dropdownService.getTeachGradesForLoggedInUser(this.date.getFullYear()).subscribe(function(t){e.grades=t,e.grades.length>0&&(0==e.id&&e.filterForm.get("gradeId").setValue(e.grades[0].id),e.loadClasses()),e.spinner.hide()},function(t){e.spinner.hide()})}},{key:"loadClasses",value:function(){var e=this;this.dropdownService.getAssignedClassForLoggedInUser(this.date.getFullYear(),this.gradeId).subscribe(function(t){e.classes=t,e.classes.length>0&&(0==e.id&&e.filterForm.get("classId").setValue(e.classes[0].id),e.loadSubject()),e.spinner.hide()},function(t){e.spinner.hide()})}},{key:"loadSubject",value:function(){var e=this;this.dropdownService.getAssignedClassSubjectForLoggedInUser(this.classId).subscribe(function(t){e.subjects=t,e.subjects.length>0&&0==e.id&&(e.filterForm.get("subjectId").setValue(e.subjects[0].id),e.setStartDateEndDate()),e.spinner.hide()},function(t){e.spinner.hide()})}},{key:"onDateChanged",value:function(e){this.spinner.show(),this.filterForm.get("year").setValue(this.selectedDate.getFullYear()),this.filterForm.get("month").setValue(this.selectedDate.getMonth()+1),this.filterForm.get("day").setValue(this.selectedDate.getDate()),this.setStartDateEndDate()}},{key:"onStartTimeChanged",value:function(e){this.filterForm.get("startHour").setValue(this.startTime.getHours()),this.filterForm.get("startMin").setValue(this.startTime.getMinutes())}},{key:"onEndTimeChanged",value:function(e){this.filterForm.get("endHour").setValue(this.endTime.getHours()),this.filterForm.get("endMin").setValue(this.endTime.getHours())}},{key:"onGradeFilterChanged",value:function(e){this.spinner.show(),this.loadClasses()}},{key:"onClassFilterChanged",value:function(e){this.spinner.show(),this.loadSubject()}},{key:"onSubjectChanged",value:function(e){this.spinner.show(),this.setStartDateEndDate()}},{key:"setStartDateEndDate",value:function(){var e=this,t=new d;t.classId=this.classId,t.subjectId=this.subjectId,t.year=this.selectedDate.getFullYear(),t.month=this.selectedDate.getMonth()+1,t.day=this.selectedDate.getDate(),this.attendanceService.getStartAndEndTime(t).subscribe(function(t){var n=new Date(t.year,t.month-1,t.day,t.startHour,t.startMin,0),a=new Date(t.year,t.month-1,t.day,t.endHour,t.endMin,0);e.filterForm.get("startHour").setValue(t.startHour),e.filterForm.get("startMin").setValue(t.startMin),e.filterForm.get("endHour").setValue(t.endHour),e.filterForm.get("endMin").setValue(t.endMin),e.filterForm.get("startTime").setValue(n),e.filterForm.get("endTime").setValue(a),e.loadSubjectAttendance()},function(t){e.spinner.hide()})}},{key:"loadSubjectAttendance",value:function(){var e=this;this.attendanceService.getAttendanceDetailForClassSubject(this.filterForm.getRawValue()).subscribe(function(t){t.id>0&&(e.filterForm.get("id").setValue(t.id),e.filterForm.get("lessonDetails").setValue(t.lessonDetails),e.filterForm.get("softwareName").setValue(t.softwareName),e.filterForm.get("isExtraClass").setValue(t.isExtraClass)),e.filterForm.get("timeSlotId").setValue(t.timeSlotId),e.data=t.studentsAttendance,e.spinner.hide()},function(t){e.spinner.hide()})}},{key:"save",value:function(){var e=this,t=this.filterForm.getRawValue();t.studentsAttendance=this.data,this.attendanceService.saveAttendanceDetailForClassSubject(t).subscribe(function(t){t.isSuccess?(u().fire({icon:"success",title:"Done",text:t.message}),e.router.navigate(["/attendance/attendance-list"])):u().fire({icon:"error",title:"Failed",text:t.message})},function(e){u().fire({icon:"error",title:"Failed",text:"Network error has been occured. Please try again."})})}},{key:"reset",value:function(){}},{key:"selectedDate",get:function(){return this.filterForm.get("selectedDate").value}},{key:"startTime",get:function(){return this.filterForm.get("startTime").value}},{key:"endTime",get:function(){return this.filterForm.get("endTime").value}},{key:"gradeId",get:function(){return this.filterForm.get("gradeId").value}},{key:"classId",get:function(){return this.filterForm.get("classId").value}},{key:"subjectId",get:function(){return this.filterForm.get("subjectId").value}},{key:"studentArray",get:function(){return this.filterForm.get("studentsAttendance")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(f),l.Y36(s.qu),l.Y36(m.FF),l.Y36(o.gz),l.Y36(o.F0),l.Y36(p.V),l.Y36(Z.t2))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-subject-attendance"]],decls:93,vars:27,consts:[[1,"main-content"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title","m-b-0"],[1,"breadcrumb-item","bcrumb-1"],["routerLink","/attendance/attendance-list"],[1,"fas","fa-home","font-17"],[1,"section-body"],[1,"row","clearfix"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[3,"formGroup"],[1,"p-10"],[1,"row"],[1,"row","m-0"],[1,"col-12","p-0"],[1,"ngxTableHeader"],[1,"table-title"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","p-0"],[1,"col-lg-3","col-md-3","col-sm-12","col-xs-12"],[1,"form-group"],["for","date"],["id","date","inputId","basic","formControlName","selectedDate",1,"form-control",3,"inputStyle","onSelect"],["formControlName","gradeId",1,"form-select","form-control",2,"width","100% !important",3,"change"],[3,"value",4,"ngFor","ngForOf"],["formControlName","classId",1,"form-select","form-control",3,"change"],["formControlName","subjectId",1,"form-select","form-control",3,"change"],["for","startTime"],["id","startTime","inputId","startTime","formControlName","startTime",1,"form-control",3,"inputStyle","timeOnly","onSelect"],["for","endTime"],["id","endTime","inputId","endTime","formControlName","endTime",1,"form-control",3,"inputStyle","timeOnly","onSelect"],["formControlName","softwareName",1,"form-select","form-control"],["formControlName","isExtraClass",1,"form-select","form-control"],["placeholder","Type your lession description here.","formControlName","lessonDetails","required","",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["styleClass","p-datatable-striped",3,"value","responsive"],["pTemplate","header"],["pTemplate","body"],[1,"card-footer","text-center"],[1,"col-lg-6","col-md-6","col-sm-12","col-xs-12","ps-3","pe-3","pt-3"],["type","button",1,"btn","btn-primary",2,"width","100%",3,"disabled","click"],["type","button",1,"btn","btn-secondary",2,"width","100%",3,"click"],[3,"value"],[1,"form-text","text-danger"],[2,"width","100px"],[2,"width","150px"],["src","assets/images/student-m.png","width","32","style","vertical-align: middle",4,"ngIf"],["src","assets/images/student-f.png","width","32","height","32","style","vertical-align: middle",4,"ngIf"],[1,"image-text"],[3,"ngModel","ngModelOptions","ngModelChange"],["src","assets/images/student-m.png","width","32",2,"vertical-align","middle"],["src","assets/images/student-f.png","width","32","height","32",2,"vertical-align","middle"]],template:function(e,t){1&e&&(l.TgZ(0,"section",0),l.TgZ(1,"ul",1),l.TgZ(2,"li",2),l.TgZ(3,"h5",3),l._uU(4,"Attendance"),l.qZA(),l.qZA(),l.TgZ(5,"li",4),l.TgZ(6,"a",5),l._UZ(7,"i",6),l.qZA(),l.qZA(),l.TgZ(8,"li",2),l._uU(9,"Subject Attendance"),l.qZA(),l.qZA(),l.TgZ(10,"div",7),l.TgZ(11,"div",8),l.TgZ(12,"div",9),l.TgZ(13,"div",10),l.TgZ(14,"form",11),l.TgZ(15,"div",12),l.TgZ(16,"div",13),l.TgZ(17,"div",9),l.TgZ(18,"div",14),l.TgZ(19,"div",15),l.TgZ(20,"div",16),l.TgZ(21,"div",17),l.TgZ(22,"h2"),l.TgZ(23,"strong"),l._uU(24,"Subject Attendance"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(25,"div",18),l.TgZ(26,"div",13),l.TgZ(27,"div",19),l.TgZ(28,"div",20),l.TgZ(29,"label",21),l._uU(30,"Date"),l.qZA(),l.TgZ(31,"p-calendar",22),l.NdJ("onSelect",function(e){return t.onDateChanged(e)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(32,"div",19),l.TgZ(33,"div",20),l.TgZ(34,"label"),l._uU(35,"Grade"),l.qZA(),l.TgZ(36,"select",23),l.NdJ("change",function(e){return t.onGradeFilterChanged(e.target.value)}),l.YNc(37,F,2,2,"option",24),l.qZA(),l.qZA(),l.qZA(),l.TgZ(38,"div",19),l.TgZ(39,"div",20),l.TgZ(40,"label"),l._uU(41,"Class"),l.qZA(),l.TgZ(42,"select",25),l.NdJ("change",function(e){return t.onClassFilterChanged(e.target.value)}),l.YNc(43,I,2,2,"option",24),l.qZA(),l.qZA(),l.qZA(),l.TgZ(44,"div",19),l.TgZ(45,"div",20),l.TgZ(46,"label"),l._uU(47,"Subject"),l.qZA(),l.TgZ(48,"select",26),l.NdJ("change",function(e){return t.onSubjectChanged(e.target.value)}),l.YNc(49,C,2,2,"option",24),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(50,"div",13),l.TgZ(51,"div",19),l.TgZ(52,"div",20),l.TgZ(53,"label",27),l._uU(54,"Start Time"),l.qZA(),l.TgZ(55,"p-calendar",28),l.NdJ("onSelect",function(e){return t.onStartTimeChanged(e)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(56,"div",19),l.TgZ(57,"div",20),l.TgZ(58,"label",29),l._uU(59,"End Time"),l.qZA(),l.TgZ(60,"p-calendar",30),l.NdJ("onSelect",function(e){return t.onEndTimeChanged(e)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(61,"div",19),l.TgZ(62,"div",20),l.TgZ(63,"label"),l._uU(64,"Software"),l.qZA(),l.TgZ(65,"select",31),l.YNc(66,N,2,2,"option",24),l.qZA(),l.qZA(),l.qZA(),l.TgZ(67,"div",19),l.TgZ(68,"div",20),l.TgZ(69,"label"),l._uU(70,"Is Extra Class"),l.qZA(),l.TgZ(71,"select",32),l.YNc(72,k,2,2,"option",24),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(73,"div",13),l.TgZ(74,"div",9),l.TgZ(75,"div",20),l.TgZ(76,"label"),l._uU(77,"Lesson Description"),l.qZA(),l._UZ(78,"textarea",33),l.YNc(79,S,2,0,"small",34),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(80,"div",13),l.TgZ(81,"div",9),l.TgZ(82,"p-table",35),l.YNc(83,x,9,0,"ng-template",36),l.YNc(84,U,12,8,"ng-template",37),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(85,"div",38),l.TgZ(86,"div",13),l.TgZ(87,"div",39),l.TgZ(88,"button",40),l.NdJ("click",function(){return t.save()}),l._uU(89," Save Attendance "),l.qZA(),l.qZA(),l.TgZ(90,"div",39),l.TgZ(91,"button",41),l.NdJ("click",function(){return t.reset()}),l._uU(92," Reset Attendance "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(14),l.Q6J("formGroup",t.filterForm),l.xp6(17),l.Akn(l.DdM(21,J)),l.Q6J("inputStyle",l.DdM(22,J)),l.xp6(6),l.Q6J("ngForOf",t.grades),l.xp6(6),l.Q6J("ngForOf",t.classes),l.xp6(6),l.Q6J("ngForOf",t.subjects),l.xp6(6),l.Akn(l.DdM(23,J)),l.Q6J("inputStyle",l.DdM(24,J))("timeOnly",!0),l.xp6(5),l.Akn(l.DdM(25,J)),l.Q6J("inputStyle",l.DdM(26,J))("timeOnly",!0),l.xp6(6),l.Q6J("ngForOf",t.softwares),l.xp6(6),l.Q6J("ngForOf",t.classTypes),l.xp6(7),l.Q6J("ngIf",!t.filterForm.get("lessonDetails").valid&&t.filterForm.get("lessonDetails").touched),l.xp6(3),l.Q6J("value",t.data)("responsive",!0),l.xp6(6),l.Q6J("disabled",!t.filterForm.valid))},directives:[o.yS,s._Y,s.JL,s.sg,v.f,s.JJ,s.u,s.EJ,r.sg,s.Fj,s.Q7,r.O5,A.iA,T.jx,s.YN,s.Kr,q,s.On],styles:[".p-calendar .p-inputtext{flex:0 0 auto;width:100%;margin-top:-11px;margin-left:-16px;margin-right:-16px}"]}),e}(),_=function(){var e=function(){function e(t){n(this,e),this.httpClient=t}return t(e,[{key:"downloadClassAttendanceForAllSubjects",value:function(e){return this.httpClient.post(h.N.apiUrl+"Report/downloadClassAttendanceForAllSubjects",e,{headers:{filedownload:""},observe:"events",reportProgress:!0})}},{key:"downloadClassAttendanceForSelectedSubject",value:function(e){return this.httpClient.post(h.N.apiUrl+"Report/downloadClassAttendanceForSelectedSubject",e,{headers:{filedownload:""},observe:"events",reportProgress:!0})}},{key:"generateZonalReportForSelectedClass",value:function(e){return this.httpClient.post(h.N.apiUrl+"Report/generateZonalReportForSelectedClass",e,{headers:{filedownload:""},observe:"events",reportProgress:!0})}},{key:"getTeacherClassMasterData",value:function(){return this.httpClient.get(h.N.apiUrl+"Report/getTeacherClassMasterData")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.LFG(g.eN))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function Q(e,t){if(1&e&&(l.TgZ(0,"option",30),l._uU(1),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n.id),l.xp6(1),l.hij(" ",n.name," ")}}function V(e,t){if(1&e&&(l.TgZ(0,"option",30),l._uU(1),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n.id),l.xp6(1),l.hij(" ",n.name," ")}}function G(e,t){if(1&e&&(l.TgZ(0,"option",30),l._uU(1),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n.id),l.xp6(1),l.hij(" ",n.name," ")}}function R(e,t){if(1&e&&(l.TgZ(0,"option",30),l._uU(1),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n.id),l.xp6(1),l.hij(" ",n.name," ")}}var E=function(){return{width:"100%"}},H=function(){return[0,2,3,4,5,6]},O=function(){return[0,1,2,3,4,6]},P=function(){var e=function(){function e(t,a,i,r,o){n(this,e),this.attendanceService=t,this.reportService=a,this.router=i,this.dropdownService=r,this.spinner=o,this.reports=[{id:1,name:"Class Week Attendance Report"},{id:2,name:"Subject Attendance Report"},{id:2,name:"Class Weekly Zonal Report"}],this.academicYears=[],this.grades=[],this.classes=[],this.subjects=[],this.downloadPercentage=0,this.filterForm=this.createFilterForm()}return t(e,[{key:"ngOnInit",value:function(){this.getTeacherMasterData()}},{key:"createFilterForm",value:function(){return new s.cw({selectedReportId:new s.NI(1),fromYear:new s.NI(0),fromMonth:new s.NI(0),fromDay:new s.NI(0),toYear:new s.NI(0),toMonth:new s.NI(0),toDay:new s.NI(0),fromDate:new s.NI(new Date),toDate:new s.NI(new Date),selectedYearId:new s.NI(0),selectedGradeId:new s.NI(0),selectedClassId:new s.NI(0),selectedSubjectId:new s.NI(0)})}},{key:"getTeacherMasterData",value:function(){var e=this;this.reportService.getTeacherClassMasterData().subscribe(function(t){e.classes=t.classes,e.academicYears=t.academicYears,e.grades=t.grades,e.filterForm.get("selectedYearId").setValue(t.selectedYearId),e.filterForm.get("selectedGradeId").setValue(t.selectedGradeId),e.filterForm.get("selectedClassId").setValue(t.selectedClassId),e.filterForm.get("fromDate").setValue(new Date(t.fromYear,t.fromMonth-1,t.fromDay,0,0,0)),e.filterForm.get("toDate").setValue(new Date(t.toYear,t.toMonth-1,t.toDay,0,0,0)),e.setFromandToDate(),e.filterForm.get("toDate").disable(),"Admin"!=t.role&&(e.filterForm.get("selectedYearId").disable(),e.filterForm.get("selectedGradeId").disable(),e.filterForm.get("selectedClassId").disable())},function(e){})}},{key:"onSelectedReportChanged",value:function(e){}},{key:"onAcademicYearFilterChanged",value:function(e){}},{key:"onGradeFilterChanged",value:function(e){}},{key:"onClassFilterChanged",value:function(e){}},{key:"onSubjectFilterChanged",value:function(e){}},{key:"onFromDateChanged",value:function(e){var t=new Date(this.fromDate.getTime()+3456e5);this.toDate.setDate(this.fromDate.getDate()+4),this.filterForm.get("toDate").setValue(t),this.setFromandToDate()}},{key:"setFromandToDate",value:function(){this.filterForm.get("fromYear").setValue(this.fromDate.getFullYear()),this.filterForm.get("fromMonth").setValue(this.fromDate.getMonth()+1),this.filterForm.get("fromDay").setValue(this.fromDate.getDate()),this.filterForm.get("toYear").setValue(this.toDate.getFullYear()),this.filterForm.get("toMonth").setValue(this.toDate.getMonth()+1),this.filterForm.get("toDay").setValue(this.toDate.getDate())}},{key:"onToDateChanged",value:function(e){}},{key:"generateReport",value:function(){var e=this;this.isDownloading=!0,this.spinner.show(),this.reportService.downloadClassAttendanceForAllSubjects(this.filterForm.getRawValue()).subscribe(function(t){if(t.type===g.dt.Response)if(204==t.status)e.isDownloading=!1,e.downloadPercentage=0,e.spinner.hide();else{var n=t.headers.get("content-disposition"),a=URL.createObjectURL(t.body),i=document.createElement("a");i.href=a,i.download=e.parseFilenameFromContentDisposition(n),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a),e.isDownloading=!1,e.downloadPercentage=0,e.spinner.hide()}},function(t){e.spinner.hide(),e.isDownloading=!1,e.downloadPercentage=0})}},{key:"parseFilenameFromContentDisposition",value:function(e){if(!e)return null;var t=/filename="(.*?)"/g.exec(e);return t&&t.length>1?t[1]:null}},{key:"toDate",get:function(){return this.filterForm.get("toDate").value}},{key:"fromDate",get:function(){return this.filterForm.get("fromDate").value}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(f),l.Y36(_),l.Y36(o.F0),l.Y36(p.V),l.Y36(Z.t2))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-attendance-reports"]],decls:67,vars:19,consts:[[1,"main-content"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title","m-b-0"],[1,"breadcrumb-item","bcrumb-1"],["routerLink","/admin/teacher"],[1,"fas","fa-home","font-17"],[1,"section-body"],[1,"row","clearfix"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"p-10"],[1,"row"],[1,"row","m-0"],[3,"formGroup"],[1,"col-12","p-0"],[1,"ngxTableHeader"],[1,"table-title"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","p-0"],[1,"col-lg-3","col-md-3","col-sm-12","col-xs-12"],[1,"form-group"],["formControlName","selectedReportId",1,"form-select","form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],["formControlName","selectedYearId",1,"form-select","form-control",3,"change"],["formControlName","selectedGradeId",1,"form-select","form-control",3,"change"],["formControlName","selectedClassId",1,"form-select","form-control",3,"change"],["for","date"],["id","date","inputId","basic","formControlName","fromDate",1,"form-control",3,"disabledDays","inputStyle","onSelect"],["id","date","inputId","basic","formControlName","toDate",1,"form-control",3,"disabledDays","inputStyle","onSelect"],["type","button",1,"btn","btn-primary",2,"margin-top","30px",3,"click"],[3,"value"]],template:function(e,t){1&e&&(l.TgZ(0,"section",0),l.TgZ(1,"ul",1),l.TgZ(2,"li",2),l.TgZ(3,"h5",3),l._uU(4,"Attendance"),l.qZA(),l.qZA(),l.TgZ(5,"li",4),l.TgZ(6,"a",5),l._UZ(7,"i",6),l.qZA(),l.qZA(),l.TgZ(8,"li",2),l._uU(9,"Reports"),l.qZA(),l.qZA(),l.TgZ(10,"div",7),l.TgZ(11,"div",8),l.TgZ(12,"div",9),l.TgZ(13,"div",10),l.TgZ(14,"div",11),l.TgZ(15,"div",12),l.TgZ(16,"div",9),l.TgZ(17,"div",13),l.TgZ(18,"form",14),l.TgZ(19,"div",15),l.TgZ(20,"div",16),l.TgZ(21,"div",17),l.TgZ(22,"h2"),l.TgZ(23,"strong"),l._uU(24,"Attendance Reports"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(25,"div",18),l.TgZ(26,"div",12),l.TgZ(27,"div",19),l.TgZ(28,"div",20),l.TgZ(29,"label"),l._uU(30,"Report Name"),l.qZA(),l.TgZ(31,"select",21),l.NdJ("change",function(e){return t.onSelectedReportChanged(e.target.value)}),l.YNc(32,Q,2,2,"option",22),l.qZA(),l.qZA(),l.qZA(),l.TgZ(33,"div",19),l.TgZ(34,"div",20),l.TgZ(35,"label"),l._uU(36,"Academic Year"),l.qZA(),l.TgZ(37,"select",23),l.NdJ("change",function(e){return t.onAcademicYearFilterChanged(e.target.value)}),l.YNc(38,V,2,2,"option",22),l.qZA(),l.qZA(),l.qZA(),l.TgZ(39,"div",19),l.TgZ(40,"div",20),l.TgZ(41,"label"),l._uU(42,"Grade"),l.qZA(),l.TgZ(43,"select",24),l.NdJ("change",function(e){return t.onGradeFilterChanged(e.target.value)}),l.YNc(44,G,2,2,"option",22),l.qZA(),l.qZA(),l.qZA(),l.TgZ(45,"div",19),l.TgZ(46,"div",20),l.TgZ(47,"label"),l._uU(48,"Class"),l.qZA(),l.TgZ(49,"select",25),l.NdJ("change",function(e){return t.onClassFilterChanged(e.target.value)}),l.YNc(50,R,2,2,"option",22),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(51,"div",12),l.TgZ(52,"div",19),l.TgZ(53,"div",20),l.TgZ(54,"label",26),l._uU(55,"From Date"),l.qZA(),l.TgZ(56,"p-calendar",27),l.NdJ("onSelect",function(e){return t.onFromDateChanged(e)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(57,"div",19),l.TgZ(58,"div",20),l.TgZ(59,"label",26),l._uU(60,"To Date"),l.qZA(),l.TgZ(61,"p-calendar",28),l.NdJ("onSelect",function(e){return t.onToDateChanged(e)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(62,"div",19),l.TgZ(63,"div",20),l._UZ(64,"label",26),l.TgZ(65,"button",29),l.NdJ("click",function(){return t.generateReport()}),l._uU(66," Generate Report "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(18),l.Q6J("formGroup",t.filterForm),l.xp6(14),l.Q6J("ngForOf",t.reports),l.xp6(6),l.Q6J("ngForOf",t.academicYears),l.xp6(6),l.Q6J("ngForOf",t.grades),l.xp6(6),l.Q6J("ngForOf",t.classes),l.xp6(6),l.Akn(l.DdM(13,E)),l.Q6J("disabledDays",l.DdM(14,H))("inputStyle",l.DdM(15,E)),l.xp6(5),l.Akn(l.DdM(16,E)),l.Q6J("disabledDays",l.DdM(17,O))("inputStyle",l.DdM(18,E)))},directives:[o.yS,s._Y,s.JL,s.sg,s.EJ,s.JJ,s.u,r.sg,v.f,s.YN,s.Kr],styles:[".p-calendar .p-inputtext{flex:0 0 auto;width:100%;margin-top:-11px;margin-left:-16px;margin-right:-16px}"]}),e}(),L=i(5525),B=i(4999);function $(e,t){if(1&e&&(l.TgZ(0,"option",45),l._uU(1),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n.id),l.xp6(1),l.hij(" ",n.name," ")}}function z(e,t){if(1&e&&(l.TgZ(0,"option",45),l._uU(1),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n.id),l.xp6(1),l.hij(" ",n.name," ")}}function X(e,t){if(1&e&&(l.TgZ(0,"option",45),l._uU(1),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n.id),l.xp6(1),l.hij(" ",n.name," ")}}function K(e,t){if(1&e&&(l.TgZ(0,"option",45),l._uU(1),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n.id),l.xp6(1),l.hij(" ",n.name," ")}}function W(e,t){1&e&&l._UZ(0,"span")}function ee(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"span"),l.TgZ(1,"button",46),l.NdJ("click",function(){var e=l.CHM(n),t=e.row,a=e.rowIndex;return l.oxw().editExsitingAttendance(t,a)}),l._UZ(2,"i",47),l.qZA(),l.TgZ(3,"button",48),l.NdJ("click",function(){var e=l.CHM(n).row;return l.oxw().deleteSelecedAttendance(e)}),l._UZ(4,"i",49),l.qZA(),l.qZA()}}function te(e,t){if(1&e&&(l.TgZ(0,"div",50),l.TgZ(1,"div"),l._uU(2),l.qZA(),l.qZA()),2&e){var n=t.row;l.xp6(2),l.Oqu(n.className)}}function ne(e,t){1&e&&l._uU(0),2&e&&l.hij(" ",t.row.subjectName," ")}function ae(e,t){1&e&&l._uU(0),2&e&&l.hij(" ",t.row.date," ")}function ie(e,t){1&e&&l._uU(0),2&e&&l.hij(" ",t.row.startTime," ")}function re(e,t){1&e&&l._uU(0),2&e&&l.hij(" ",t.row.endTime," ")}function oe(e,t){1&e&&l._uU(0),2&e&&l.hij(" ",t.row.totalAttendedStudents," ")}function se(e,t){1&e&&l._uU(0),2&e&&l.hij(" ",t.row.totalAbsenceStudents," ")}var le,de,ce=[{path:"",redirectTo:"attendance-list",pathMatch:"full"},{path:"attendance-list",component:(le=function(){function e(t,a,i,r,o,s){n(this,e),this.attendanceService=t,this.formBuilder=a,this.modalService=i,this.router=r,this.dropdownService=o,this.spinner=s,this.rows=[],this.newUserImg="assets/images/users/user-2.png",this.scrollBarHorizontal=window.innerWidth<1200,this.loadingIndicator=!0,this.reorderable=!0,this.academicYears=[],this.grades=[],this.classes=[],this.subjects=[],this.data=new Array,this.currentPage=0,this.pageSize=25,this.totalRecord=0}return t(e,[{key:"ngOnInit",value:function(){this.filterForm=this.createFilterForm(),this.spinner.show(),this.loadMasterData()}},{key:"createFilterForm",value:function(){return new s.cw({selectedAcademicYearId:new s.NI(0),selectedGradeId:new s.NI(0),selectedClassId:new s.NI(0),selectedSubjectId:new s.NI(0),searchText:new s.NI("")})}},{key:"onAcademicYearFilterChanged",value:function(e){this.spinner.show(),this.resetPaging(),this.loadClassesForTecher()}},{key:"onGradeFilterChanged",value:function(e){this.spinner.show(),this.resetPaging(),this.loadClassesForTecher()}},{key:"onClassFilterChanged",value:function(e){this.spinner.show(),this.resetPaging(),this.loadSubjectForTeacher()}},{key:"onSubjectFilterChanged",value:function(e){this.spinner.show(),this.resetPaging(),this.loadAttendance()}},{key:"filterDatatable",value:function(e){e.target.value.toLowerCase(),this.resetPaging(),this.spinner.show(),this.loadAttendance()}},{key:"setPage",value:function(e){this.spinner.show(),this.currentPage=e.offset,this.loadAttendance()}},{key:"loadMasterData",value:function(){var e=this;this.attendanceService.getAttendanceListTeacherDropdownMasterData().subscribe(function(t){e.academicYears=t.academicYears,e.grades=t.grades,e.classes=t.classes,e.subjects=t.subjects,e.filterForm.get("selectedAcademicYearId").setValue(t.currentAcademicYear),e.filterForm.get("selectedGradeId").setValue(t.selectedGradeId),e.filterForm.get("selectedClassId").setValue(t.selectedClassId),e.filterForm.get("selectedSubjectId").setValue(t.selectedSubjectId),e.loadAttendance()},function(e){})}},{key:"loadClassesForTecher",value:function(){var e=this;this.dropdownService.getAssignedClassForLoggedInUser(this.selectedAcademicYearId,this.selectedGradeId).subscribe(function(t){e.classes=t;var n=new B.u;n.id=0,n.name="--All--",e.classes.unshift(n),e.filterForm.get("selectedClassId").setValue(0),e.loadSubjectForTeacher()},function(t){e.spinner.hide()})}},{key:"loadSubjectForTeacher",value:function(){var e=this;this.dropdownService.getAssignedClassSubjectForLoggedInUser(this.selectedClassId).subscribe(function(t){e.subjects=t;var n=new B.u;n.id=0,n.name="--All--",e.subjects.unshift(n),e.filterForm.get("selectedSubjectId").setValue(0),e.loadAttendance()},function(t){e.spinner.hide()})}},{key:"loadAttendance",value:function(){var e=this;this.attendanceService.getMySubjectAttendance(this.searchText,this.currentPage+1,this.pageSize,this.selectedAcademicYearId,this.selectedGradeId,this.selectedClassId,this.selectedSubjectId).subscribe(function(t){e.data=t.data,e.totalRecord=t.totalRecordCount,e.loadingIndicator=!1,e.spinner.hide()},function(t){e.spinner.hide()})}},{key:"resetPaging",value:function(){this.currentPage=0,this.totalRecord=0}},{key:"addNewAttendance",value:function(){this.router.navigate(["/attendance/attendance-list",0])}},{key:"editExsitingAttendance",value:function(e,t){this.router.navigate(["/attendance/attendance-list",e.id])}},{key:"deleteSelecedAttendance",value:function(e){}},{key:"selectedAcademicYearId",get:function(){return this.filterForm.get("selectedAcademicYearId").value}},{key:"selectedGradeId",get:function(){return this.filterForm.get("selectedGradeId").value}},{key:"selectedClassId",get:function(){return this.filterForm.get("selectedClassId").value}},{key:"selectedSubjectId",get:function(){return this.filterForm.get("selectedSubjectId").value}},{key:"searchText",get:function(){return this.filterForm.get("searchText").value}}]),e}(),le.\u0275fac=function(e){return new(e||le)(l.Y36(f),l.Y36(s.qu),l.Y36(m.FF),l.Y36(o.F0),l.Y36(p.V),l.Y36(Z.t2))},le.\u0275cmp=l.Xpm({type:le,selectors:[["app-subject-attendance-list"]],viewQuery:function(e,t){var n;1&e&&l.Gf(L.nE,5),2&e&&l.iGM(n=l.CRH())&&(t.table=n.first)},decls:78,vars:24,consts:[[1,"main-content"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title","m-b-0"],[1,"breadcrumb-item","bcrumb-1"],["routerLink","/attendance/attendance-list"],[1,"fas","fa-home","font-17"],[1,"section-body"],[1,"row","clearfix"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"p-10"],[1,"row"],[1,"row","m-0"],[3,"formGroup"],[1,"col-12","p-0"],[1,"ngxTableHeader"],[1,"table-title"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","p-0"],[1,"col-lg-3","col-md-3","col-sm-12","col-xs-12"],[1,"form-group","position-relative"],[1,"fas","fa-search","input-icons"],["type","text","formControlName","searchText","placeholder","Search by name","name","searchText","required","",1,"form-control","psl-5",3,"keyup"],[1,"col-lg-2","col-md-2","col-sm-12","col-xs-12"],[1,"form-group"],["formControlName","selectedAcademicYearId",1,"form-select","form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],["formControlName","selectedGradeId",1,"form-select","form-control",3,"change"],["formControlName","selectedClassId",1,"form-select","form-control",3,"change"],["formControlName","selectedSubjectId",1,"form-select","form-control",3,"change"],[1,"col-lg-2","col-md-2","col-sm-12","col-xs-12","ps-3","pe-3","pt-3"],["type","button",1,"btn","btn-primary","mb-2",2,"width","100%",3,"click"],["columnMode","force","rowHeight","auto",1,"material",3,"rows","loadingIndicator","headerHeight","footerHeight","externalPaging","count","offset","limit","scrollbarH","reorderable","page"],["table",""],["name","",3,"width","sortable"],["sortable","false","ngx-datatable-header-template","","class","text-center"],["ngx-datatable-cell-template","","class","text-center"],["name","Class",3,"width"],["ngx-datatable-cell-template",""],["name","Subject",3,"width"],["name","Date",3,"width"],["name","Start Start",3,"width"],["name","End Time",3,"width"],["name","Tot-Attended",3,"width"],["name","Tot-Absence",3,"width"],[3,"value"],[1,"btn","btn-icon","btn-sm","btn-primary","ms-1",3,"click"],[1,"fas","fa-pen"],[1,"btn","btn-icon","btn-sm","btn-danger","ms-1",3,"click"],[1,"fas","fa-trash-alt"],[1,"name-col-style"]],template:function(e,t){1&e&&(l.TgZ(0,"section",0),l.TgZ(1,"ul",1),l.TgZ(2,"li",2),l.TgZ(3,"h5",3),l._uU(4,"Attendance"),l.qZA(),l.qZA(),l.TgZ(5,"li",4),l.TgZ(6,"a",5),l._UZ(7,"i",6),l.qZA(),l.qZA(),l.qZA(),l.TgZ(8,"div",7),l.TgZ(9,"div",8),l.TgZ(10,"div",9),l.TgZ(11,"div",10),l.TgZ(12,"div",11),l.TgZ(13,"div",12),l.TgZ(14,"div",9),l.TgZ(15,"div",13),l.TgZ(16,"form",14),l.TgZ(17,"div",15),l.TgZ(18,"div",16),l.TgZ(19,"div",17),l.TgZ(20,"h2"),l.TgZ(21,"strong"),l._uU(22,"Subject Attendance"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(23,"div",18),l.TgZ(24,"div",12),l.TgZ(25,"div",19),l.TgZ(26,"div",20),l.TgZ(27,"label"),l._uU(28,"Search Text"),l.qZA(),l._UZ(29,"i",21),l.TgZ(30,"input",22),l.NdJ("keyup",function(e){return t.filterDatatable(e)}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(31,"div",23),l.TgZ(32,"div",24),l.TgZ(33,"label"),l._uU(34,"Academic Year"),l.qZA(),l.TgZ(35,"select",25),l.NdJ("change",function(e){return t.onAcademicYearFilterChanged(e.target.value)}),l.YNc(36,$,2,2,"option",26),l.qZA(),l.qZA(),l.qZA(),l.TgZ(37,"div",23),l.TgZ(38,"div",24),l.TgZ(39,"label"),l._uU(40,"Grade"),l.qZA(),l.TgZ(41,"select",27),l.NdJ("change",function(e){return t.onGradeFilterChanged(e.target.value)}),l.YNc(42,z,2,2,"option",26),l.qZA(),l.qZA(),l.qZA(),l.TgZ(43,"div",23),l.TgZ(44,"div",24),l.TgZ(45,"label"),l._uU(46,"Class"),l.qZA(),l.TgZ(47,"select",28),l.NdJ("change",function(e){return t.onClassFilterChanged(e.target.value)}),l.YNc(48,X,2,2,"option",26),l.qZA(),l.qZA(),l.qZA(),l.TgZ(49,"div",23),l.TgZ(50,"div",24),l.TgZ(51,"label"),l._uU(52,"Subject"),l.qZA(),l.TgZ(53,"select",29),l.NdJ("change",function(e){return t.onSubjectFilterChanged(e.target.value)}),l.YNc(54,K,2,2,"option",26),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(55,"div",12),l.TgZ(56,"div",30),l.TgZ(57,"button",31),l.NdJ("click",function(){return t.addNewAttendance()}),l._uU(58," Add New Attendance "),l.qZA(),l.qZA(),l.qZA(),l.TgZ(59,"ngx-datatable",32,33),l.NdJ("page",function(e){return t.setPage(e)}),l.TgZ(61,"ngx-datatable-column",34),l.YNc(62,W,1,0,"ng-template",35),l.YNc(63,ee,5,0,"ng-template",36),l.qZA(),l.TgZ(64,"ngx-datatable-column",37),l.YNc(65,te,3,1,"ng-template",38),l.qZA(),l.TgZ(66,"ngx-datatable-column",39),l.YNc(67,ne,1,1,"ng-template",38),l.qZA(),l.TgZ(68,"ngx-datatable-column",40),l.YNc(69,ae,1,1,"ng-template",38),l.qZA(),l.TgZ(70,"ngx-datatable-column",41),l.YNc(71,ie,1,1,"ng-template",38),l.qZA(),l.TgZ(72,"ngx-datatable-column",42),l.YNc(73,re,1,1,"ng-template",38),l.qZA(),l.TgZ(74,"ngx-datatable-column",43),l.YNc(75,oe,1,1,"ng-template",38),l.qZA(),l.TgZ(76,"ngx-datatable-column",44),l.YNc(77,se,1,1,"ng-template",38),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(16),l.Q6J("formGroup",t.filterForm),l.xp6(20),l.Q6J("ngForOf",t.academicYears),l.xp6(6),l.Q6J("ngForOf",t.grades),l.xp6(6),l.Q6J("ngForOf",t.classes),l.xp6(6),l.Q6J("ngForOf",t.subjects),l.xp6(5),l.Q6J("rows",t.data)("loadingIndicator",t.loadingIndicator)("headerHeight",60)("footerHeight",80)("externalPaging",!0)("count",t.totalRecord)("offset",t.currentPage)("limit",t.pageSize)("scrollbarH",t.scrollBarHorizontal)("reorderable",t.reorderable),l.xp6(2),l.Q6J("width",150)("sortable",!1),l.xp6(3),l.Q6J("width",150),l.xp6(2),l.Q6J("width",150),l.xp6(2),l.Q6J("width",150),l.xp6(2),l.Q6J("width",150),l.xp6(2),l.Q6J("width",150),l.xp6(2),l.Q6J("width",150),l.xp6(2),l.Q6J("width",150))},directives:[o.yS,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,s.Q7,s.EJ,r.sg,L.nE,L.UC,L.tk,L.vq,s.YN,s.Kr],styles:[""]}),le)},{path:"attendance-list/:id",component:M},{path:"reports",component:P}],ue=function(){var e=function e(){n(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[o.Bz.forChild(ce)],o.Bz]}),e}(),ge=i(4082),he=i(3492),fe=((de=function e(){n(this,e)}).\u0275fac=function(e){return new(e||de)},de.\u0275mod=l.oAB({type:de}),de.\u0275inj=l.cJS({imports:[[r.ez,ge.q,s.u5,s.UX,v._8,y,A.U$,L.xD,he.Rh.forRoot({positionClass:"toast-bottom-right"}),ue]]}),de)}}])}();